(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./src/module/home/component/header.less":function(e,t,n){},"./src/module/home/component/home.less":function(e,t,n){},"./src/module/home/component/welcome.css":function(e,t,n){},"./src/module/home/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"actions",(function(){return T})),n.d(t,"Home",(function(){return I}));var a=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/core-fe/lib/index.js"),r=n("./node_modules/antd/es/layout/index.js"),i=(n("./node_modules/antd/es/layout/style/index.js"),n("./node_modules/react/index.js")),c=n.n(i),l=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/react-router/esm/react-router.js"),u=(n("./node_modules/antd/es/button/style/index.js"),n("./node_modules/antd/es/menu/style/index.js"),n("./node_modules/antd/es/upload/style/index.js"),n("./node_modules/antd/es/message/style/index.js"),n("./node_modules/antd/es/row/style/index.js"),n("./node_modules/antd/es/col/style/index.js"),n("./node_modules/antd/es/modal/style/index.js"),n("./src/module/home/component/header.less"),Object(l.c)((function(e){var t=e.app.home,n=t.mergeLanguageList;t.columns;return{hasImported:!!Object.keys(n).length}}),(function(e){return{importJSON:function(t){return e(T.importJSON(t))},exportJSON:function(t){return e(T.exportJSON(t))}}}))((function(e){e.hasImported,e.importJSON,e.exportJSON;return c.a.createElement(r.a.Header,{className:"header-header"})}))),d=(n("./src/module/home/component/home.less"),Object(l.c)()((function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Not Found"))}))),m=n("./node_modules/antd/es/button/index.js"),f=n("./node_modules/antd/es/col/index.js"),p=n("./node_modules/antd/es/row/index.js"),h=n("./node_modules/antd/es/table/index.js"),g=(n("./node_modules/antd/es/table/style/index.js"),n("./node_modules/antd/es/tooltip/index.js")),j=(n("./node_modules/antd/es/tooltip/style/index.js"),n("./node_modules/antd/es/typography/index.js")),b=(n("./node_modules/antd/es/typography/style/index.js"),n("./node_modules/antd/es/checkbox/index.js")),v=(n("./node_modules/antd/es/checkbox/style/index.js"),n("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js")),_=n("./node_modules/antd/es/modal/index.js"),y=n("./node_modules/antd/es/message/index.js"),E="https://cdn.jsdelivr.net/gh/ajksdhfueisde/ajksdhfueisde.github.io/",O={de_DE:E+"/static/i18n/current_i18n/de_DE.json",en_GB:E+"/static/i18n/current_i18n/en_GB.json",en_US:E+"/static/i18n/current_i18n/en_US.json",en_ES:E+"/static/i18n/current_i18n/en_ES.json",fr_FR:E+"/static/i18n/current_i18n/fr_FR.json",it_IT:E+"/static/i18n/current_i18n/it_IT.json",pl_PL:E+"/static/i18n/current_i18n/pl_PL.json",pt_PT:E+"/static/i18n/current_i18n/pt_PT.json",ru_RU:E+"/static/i18n/current_i18n/ru_RU.json",zh_CN:E+"/static/i18n/current_i18n/zh_CN.json"},x={de_DE:E+"/static/i18n/confirm_i18n/de_DE.json",en_GB:E+"/static/i18n/confirm_i18n/en_GB.json",en_US:E+"/static/i18n/confirm_i18n/en_US.json",en_ES:E+"/static/i18n/confirm_i18n/en_ES.json",fr_FR:E+"/static/i18n/confirm_i18n/fr_FR.json",it_IT:E+"/static/i18n/confirm_i18n/it_IT.json",pl_PL:E+"/static/i18n/confirm_i18n/pl_PL.json",pt_PT:E+"/static/i18n/confirm_i18n/pt_PT.json",ru_RU:E+"/static/i18n/confirm_i18n/ru_RU.json",zh_CN:E+"/static/i18n/confirm_i18n/zh_CN.json"},S=Object(l.c)((function(e){var t=e.app.home;return{visible:t.selectModalVisible,inputSelectLanguages:t.columns}}),(function(e){return{onCancel:function(){return e(T.changeModalVisible(!1))},onSelectChange:function(t){return e(T.onLanguageSelectChange(t))}}}))((function(e){var t=e.visible,n=e.inputSelectLanguages,o=e.onCancel,r=e.onSelectChange,l=Object(a.e)(Object(i.useState)(Object(a.f)(n)||["en_us"]),2),s=l[0],u=l[1],d=Object.keys(x);return c.a.createElement(_.a,{title:"Select Language",visible:t,onOk:function(){Object(a.f)(s).sort().join()!==Object(a.f)(n).sort().join()?r(s):o()},onCancel:o},c.a.createElement(b.a.Group,{options:d,value:s,onChange:function(e){e.length<=3?u(e):y.b.warn("Max 3 language")}}))})),L=(n("./src/module/home/component/welcome.css"),Object(l.c)((function(e){var t=e.app.home,n=t.mergeLanguageList;return{mergeLanguageList:n,columns:t.columns,hasImported:!!Object.keys(n).length}}),(function(e){return{openLanguageModal:function(){return e(T.changeModalVisible(!0))},exportJSON:function(t){return e(T.exportJSON(t))}}}))((function(e){var t=e.hasImported,n=e.mergeLanguageList,o=e.columns,r=e.openLanguageModal,l=e.exportJSON,s=Object(a.e)(Object(i.useState)({}),2),u=s[0],d=s[1],_=Object(a.e)(Object(i.useState)(!0),2),y=_[0],E=_[1],O=Object(a.e)(Object(i.useState)(!0),2),x=O[0],L=O[1],k=Object(a.e)(Object(i.useState)(!0),2),N=k[0],C=k[1];Object(i.useEffect)((function(){n&&Object.keys(n).length>0&&d(Object(a.a)({},n))}),[n]);var w=Object.keys(u).map((function(e){return{title:e,data:u[e]}}));(y||N||x)&&(w=w.filter((function(e){var t=y&&o.some((function(t){var n;return null===(n=e.data[t])||void 0===n?void 0:n.isEmpty})),n=N&&o.some((function(t){var n;return null===(n=e.data[t])||void 0===n?void 0:n.isConfirmChanged})),a=x&&o.some((function(t){var n;return!(null===(n=e.data[t])||void 0===n?void 0:n.confirm)}));return t||n||a})));var J=[{title:"No",dataIndex:"none",key:"none",width:"100px",render:function(e,t,n){return n+1}},{title:"title",dataIndex:"title",key:"title",width:90/(o.length+1)+"vw",ellipsis:!0,render:function(e,t){return c.a.createElement(g.a,{placement:"topLeft",title:e},c.a.createElement("span",null,e))}}],T=function(e,t,n){var o,r,i,c;void 0===n&&(n=""),d(Object(a.a)(Object(a.a)({},u),((o={})[e]=Object(a.a)(Object(a.a)({},u[e]),((r={})[t]=Object(a.a)(Object(a.a)({},u[e][t]),{value:n,isEdited:n!==(null===(i=u[e][t])||void 0===i?void 0:i.original),isEmpty:!n.trim(),isConfirmChanged:n!==(null===(c=u[e][t])||void 0===c?void 0:c.confirm)}),r)),o)))};return o.forEach((function(e){J.push({title:function(){var t=w.map((function(t){var n;return null===(n=t.data[e])||void 0===n?void 0:n.value})).filter((function(e){return!e})).length;return c.a.createElement("span",null,e,t>0&&c.a.createElement("i",{style:{color:"red",font:"10px"}}," (",t," empty)"))},dataIndex:e,key:e,width:90/(o.length+1)+"vw",ellipsis:!0,render:function(t,n){var a,o,r,i,l=null===(a=n.data[e])||void 0===a?void 0:a.value,s=!(l&&l.trim()),u=(null===(o=n.data[e])||void 0===o||o.isConfirmChanged,null===(r=n.data[e])||void 0===r||r.confirm,null===(i=n.data[e])||void 0===i?void 0:i.isEdited);return c.a.createElement(g.a,{placement:"topLeft",title:l},s&&c.a.createElement(j.a.Text,{editable:{onChange:function(t){return T(n.title,e,t)}},className:"ant-table-cell-ellipsis cell-empty"},"None"),!s&&u&&c.a.createElement("div",{className:"ant-table-cell-ellipsis cell-edit"},c.a.createElement(m.a,{danger:!0,type:"primary",shape:"circle",size:"small",className:"close-btn",onClick:function(){T(n.title,e,"")},icon:c.a.createElement(v.a,{className:"clear-icon"})}),l),!s&&!u&&c.a.createElement("div",{className:"ant-table-cell-ellipsis cell-normal"},c.a.createElement(m.a,{danger:!0,type:"primary",className:"close-btn",size:"small",shape:"circle",onClick:function(){T(n.title,e,"")},icon:c.a.createElement(v.a,{className:"clear-icon"})}),l))}})})),c.a.createElement("div",null,c.a.createElement(p.a,{justify:"space-between",gutter:10,align:"middle"},c.a.createElement(f.a,null,c.a.createElement(p.a,{justify:"start",gutter:10,align:"middle"},c.a.createElement(f.a,null,c.a.createElement(j.a.Title,null,"Translation")),c.a.createElement(f.a,null,c.a.createElement(j.a.Text,null,"(",u.length,"'s keys)")))),c.a.createElement(f.a,null,c.a.createElement(p.a,{justify:"center",gutter:10,align:"middle"},c.a.createElement(f.a,null,c.a.createElement(b.a,{checked:y,onChange:function(e){return E(e.target.checked)}},"Empty Filter")),c.a.createElement(f.a,null,c.a.createElement(b.a,{checked:N,onChange:function(e){return C(e.target.checked)}},"Confirm change Filter")),c.a.createElement(f.a,null,c.a.createElement(b.a,{checked:x,onChange:function(e){return L(e.target.checked)}},"New Key Filter")))),c.a.createElement(f.a,null,c.a.createElement(p.a,{gutter:20,style:{padding:"0 20px"}},c.a.createElement(f.a,null,c.a.createElement(m.a,{type:"primary",onClick:function(){return r()}},"Import")),c.a.createElement(f.a,null,c.a.createElement(m.a,{disabled:!t,type:"primary",danger:!0,onClick:function(){o.forEach((function(e){return l(e)}))}},"Export")),c.a.createElement(f.a,null,c.a.createElement(m.a,{disabled:!t,type:"ghost",onClick:function(){return location.reload()}},"Reset"))))),c.a.createElement(h.a,{size:"small",bordered:!0,pagination:!1,rowKey:function(e){return e.title},columns:J,dataSource:w}),c.a.createElement(S,null))}))),k=Object(l.c)()((function(){return c.a.createElement(r.a,null,c.a.createElement(r.a,null,c.a.createElement(u,null),c.a.createElement(r.a,null,c.a.createElement(r.a.Content,{className:"app-layout"},c.a.createElement(s.e,null,c.a.createElement(s.c,{exact:!0,path:"/",component:L}),c.a.createElement(s.c,{component:d}))))))}));function N(e){var t="####",n=[];return function a(o,r){if(void 0===r&&(r=""),"object"==typeof e){var i=Object.keys(o);i.length&&i.forEach((function(e){"string"==typeof o[e]?n.push({key:""+r+(r?t:"")+e,value:o[e]}):"object"==typeof o[e]?a(o[e],""+r+(r?t:"")+e):console.error(""+r+(r?t:"")+e+" error")}))}}(e),n}function C(e){var t={};return e.forEach((function(e){var n=e.key.split("####");!function e(t,n,a){if(n.length){var o=n.shift();n.length?(t[o]||(t[o]={}),e(t[o],n,a)):t[o]=a}}(t,n,e.value)})),t}var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype._translate=function(e,t,n){return void 0===n&&(n=""),new Promise((function(a,o){fetch("https://google-translate1.p.rapidapi.com/language/translate/v2",{method:"POST",headers:{"x-rapidapi-host":"google-translate1.p.rapidapi.com","x-rapidapi-key":"cc992288bbmsh8a52e14579c3b7bp1a03b0jsn7aaf534f3eb4","accept-encoding":"application/gzip","content-type":"application/x-www-form-urlencoded"},body:"source="+n+"&q="+e+"&target="+t}).then((function(e){a(e.json())})).catch((function(e){o(e)}))}))},t.prototype.translate=function(e,t,n){var r,i=this;return void 0===n&&(n=""),Object(a.d)(this,(function(c){switch(c.label){case 0:return[5,Object(a.g)(Object(o.c)((function(){return i._translate(e,t,n)})))];case 1:return r=c.sent(),console.log("translate",r),[2]}}))},t.prototype.exportJSON=function(e){var t,n,o,r,i,c;return void 0===e&&(e=this.state.columns[0]),Object(a.d)(this,(function(a){return t=this.state,n=t.mergeLanguageList,t.columns.includes(e)?(o=Object.keys(n).map((function(t){var a;return{key:t,value:(null===(a=n[t][e])||void 0===a?void 0:a.value)||""}})),(r=C(o))&&(i="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(r,void 0,4)),(c=document.createElement("a")).href=i,c.download=e+".json",c.click(),c.remove()),[2]):(y.b.error("Export name should import already"),[2])}))},t.prototype.dealWithJSON=function(e,t){var n=this.state,o=n.mergeLanguageList,r=n.columns;o=JSON.parse(JSON.stringify(o));var i=N(e);return i.sort((function(e,t){return e.key>t.key?1:-1})),i.forEach((function(e){var n;o[e.key]?o[e.key][t]={value:e.value,original:e.value,confirm:"",isEdited:!1,isConfirmChanged:!1,isEmpty:!e.value}:o[e.key]=((n={})[t]={value:e.value,original:e.value,confirm:"",isEdited:!1,isConfirmChanged:!1,isEmpty:!e.value},n)})),{mergeLanguageList:Object(a.a)({},o),columns:r.concat([t])}},t.prototype.importJSON=function(e,t){var n,o,r,i,c=this;return Object(a.d)(this,(function(a){return e?(n=this.state,n.mergeLanguageList,o=n.columns,r=t||e.name.replace(".json",""),o.includes(r)?(y.b.error("Don't import json with same name"),[2]):((i=new FileReader).onload=function(e){var t;try{var n=(null===(t=e.target)||void 0===t?void 0:t.result)||"{}",a=JSON.parse(n),o=c.dealWithJSON(a,r),i=o.mergeLanguageList,l=o.columns;c.setState({mergeLanguageList:i,columns:l})}catch(e){console.error(e)}},i.readAsText(e),[2])):[2]}))},t.prototype._importFile=function(e){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(t){switch(t.label){case 0:return[4,fetch(e)];case 1:return[2,t.sent().json()]}}))}))},t.prototype.fetchJSON=function(e){var t=this;return Object(a.d)(this,(function(n){switch(n.label){case 0:return[5,Object(a.g)(Object(o.c)((function(){return t._importFile(e)})))];case 1:return[2,n.sent()]}}))},t.prototype.changeModalVisible=function(e){return Object(a.d)(this,(function(t){return this.setState({selectModalVisible:e}),[2]}))},t.prototype.onLanguageSelectChange=function(e){var t,n,r,i=this;return Object(a.d)(this,(function(c){switch(c.label){case 0:t=function(t){var r,c,l,s,u;return Object(a.d)(this,(function(d){switch(d.label){case 0:return n.state.columns.includes(e[t])?[2,"continue"]:[5,Object(a.g)(Object(o.c)((function(){return i.fetchJSON(O[e[t]])})))];case 1:return r=d.sent(),c=n.dealWithJSON(r,e[t]),l=c.mergeLanguageList,s=c.columns,[5,Object(a.g)(Object(o.c)((function(){return i.fetchJSON(x[e[t]])})))];case 2:return u=d.sent(),N(u).forEach((function(n){if(l[n.key]){var a=l[n.key][e[t]];a&&(a.confirm=n.value,a.confirm!==a.original&&(a.isConfirmChanged=!0))}})),n.setState({mergeLanguageList:l,columns:s}),[2]}}))},n=this,r=0,c.label=1;case 1:return r<e.length?[5,t(r)]:[3,4];case 2:c.sent(),c.label=3;case 3:return r++,[3,1];case 4:return console.log(this.state.mergeLanguageList),this.setState({selectModalVisible:!1}),[2]}}))},t}(o.a),J=Object(o.d)(new w("home",{mergeLanguageList:{},columns:[],selectModalVisible:!1})),T=J.getActions(),I=J.attachLifecycle(k)}}]);