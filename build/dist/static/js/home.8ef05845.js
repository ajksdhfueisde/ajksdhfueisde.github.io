(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./src/module/home/component/header.less":function(e,t,n){},"./src/module/home/component/home.less":function(e,t,n){},"./src/module/home/component/welcome.css":function(e,t,n){},"./src/module/home/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"actions",(function(){return R})),n.d(t,"Home",(function(){return P}));var a=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/core-fe/lib/index.js"),o=n("./node_modules/antd/es/layout/index.js"),i=(n("./node_modules/antd/es/layout/style/index.js"),n("./node_modules/react/index.js")),c=n.n(i),l=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/react-router/esm/react-router.js"),u=(n("./node_modules/antd/es/button/style/index.js"),n("./node_modules/antd/es/menu/style/index.js"),n("./node_modules/antd/es/upload/style/index.js"),n("./node_modules/antd/es/message/style/index.js"),n("./node_modules/antd/es/row/style/index.js"),n("./node_modules/antd/es/col/style/index.js"),n("./node_modules/antd/es/modal/style/index.js"),n("./src/module/home/component/header.less"),Object(l.c)((function(e){var t=e.app.home,n=t.mergeLanguageList;t.columns;return{hasImported:!!Object.keys(n).length}}),(function(e){return{importJSON:function(t){return e(R.importJSON(t))},exportJSON:function(t){return e(R.exportJSON(t))}}}))((function(e){e.hasImported,e.importJSON,e.exportJSON;return c.a.createElement(o.a.Header,{className:"header-header"})}))),d=(n("./src/module/home/component/home.less"),Object(l.c)()((function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Not Found"))}))),m=n("./node_modules/antd/es/button/index.js"),f=n("./node_modules/antd/es/avatar/index.js"),h=(n("./node_modules/antd/es/avatar/style/index.js"),n("./node_modules/antd/es/col/index.js")),g=n("./node_modules/antd/es/row/index.js"),p=n("./node_modules/antd/es/table/index.js"),j=(n("./node_modules/antd/es/table/style/index.js"),n("./node_modules/antd/es/tooltip/index.js")),v=(n("./node_modules/antd/es/tooltip/style/index.js"),n("./node_modules/antd/es/typography/index.js")),b=(n("./node_modules/antd/es/typography/style/index.js"),n("./node_modules/antd/es/checkbox/index.js")),y=(n("./node_modules/antd/es/checkbox/style/index.js"),n("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js")),E=n("./node_modules/antd/es/modal/index.js"),_=n("./node_modules/antd/es/message/index.js"),O="https://cdn.jsdelivr.net/gh/ajksdhfueisde/ajksdhfueisde.github.io/",x={de_DE:O+"/static/i18n/current_i18n/de_DE.json",en_GB:O+"/static/i18n/current_i18n/en_GB.json",en_US:O+"/static/i18n/current_i18n/en_US.json",en_ES:O+"/static/i18n/current_i18n/en_ES.json",fr_FR:O+"/static/i18n/current_i18n/fr_FR.json",it_IT:O+"/static/i18n/current_i18n/it_IT.json",pl_PL:O+"/static/i18n/current_i18n/pl_PL.json",pt_PT:O+"/static/i18n/current_i18n/pt_PT.json",ru_RU:O+"/static/i18n/current_i18n/ru_RU.json",zh_CN:O+"/static/i18n/current_i18n/zh_CN.json"},S={de_DE:O+"/static/i18n/confirm_i18n/de_DE.json",en_GB:O+"/static/i18n/confirm_i18n/en_GB.json",en_US:O+"/static/i18n/confirm_i18n/en_US.json",en_ES:O+"/static/i18n/confirm_i18n/en_ES.json",fr_FR:O+"/static/i18n/confirm_i18n/fr_FR.json",it_IT:O+"/static/i18n/confirm_i18n/it_IT.json",pl_PL:O+"/static/i18n/confirm_i18n/pl_PL.json",pt_PT:O+"/static/i18n/confirm_i18n/pt_PT.json",ru_RU:O+"/static/i18n/confirm_i18n/ru_RU.json",zh_CN:O+"/static/i18n/confirm_i18n/zh_CN.json"},C=Object(l.c)((function(e){var t=e.app.home;return{visible:t.selectModalVisible,inputSelectLanguages:t.columns}}),(function(e){return{onCancel:function(){return e(R.changeModalVisible(!1))},onSelectChange:function(t){return e(R.onLanguageSelectChange(t))}}}))((function(e){var t=e.visible,n=e.inputSelectLanguages,r=e.onCancel,o=e.onSelectChange,l=Object(a.e)(Object(i.useState)(Object(a.f)(n)||["en_us"]),2),s=l[0],u=l[1],d=Object.keys(S);return c.a.createElement(E.a,{title:"Select Language",visible:t,onOk:function(){Object(a.f)(s).sort().join()!==Object(a.f)(n).sort().join()?o(s):r()},onCancel:r},c.a.createElement(b.a.Group,{options:d,value:s,onChange:function(e){e.length<=3?u(e):_.b.warn("Max 3 language")}}))})),k=(n("./src/module/home/component/welcome.css"),Object(l.c)((function(e){var t=e.app.home,n=t.mergeLanguageList;return{mergeLanguageList:n,columns:t.columns,hasImported:!!Object.keys(n).length}}),(function(e){return{openLanguageModal:function(){return e(R.changeModalVisible(!0))},exportJSON:function(t,n){return e(R.exportJSON(t,n))},cacheEditData:function(t,n,a){return e(R.cacheEditData(t,n,a))}}}))((function(e){var t=e.hasImported,n=e.mergeLanguageList,r=e.columns,o=e.openLanguageModal,l=e.exportJSON,s=e.cacheEditData,u=Object(a.e)(Object(i.useState)({}),2),d=u[0],E=u[1],_=Object(a.e)(Object(i.useState)(!0),2),O=_[0],x=_[1],S=Object(a.e)(Object(i.useState)(!0),2),k=S[0],N=S[1],L=Object(a.e)(Object(i.useState)(!0),2),w=L[0],J=L[1];Object(i.useEffect)((function(){n&&Object.keys(n).length>0&&E(Object(a.a)({},n))}),[n]);var I=Object.keys(d).map((function(e){return{title:e,data:d[e]}}));(O||w||k)&&(I=I.filter((function(e){var t=O&&r.some((function(t){var n;return null===(n=e.data[t])||void 0===n?void 0:n.isEmpty})),n=w&&r.some((function(t){var n;return null===(n=e.data[t])||void 0===n?void 0:n.isConfirmChanged})),a=k&&r.some((function(t){var n;return!(null===(n=e.data[t])||void 0===n?void 0:n.confirm)}));return t||n||a})));var T=[{title:"No",dataIndex:"none",key:"none",width:"100px",render:function(e,t,n){return n+1}},{title:"title",dataIndex:"title",key:"title",width:90/(r.length+1)+"vw",ellipsis:!0,render:function(e,t){O&&r.some((function(e){var n;return null===(n=t.data[e])||void 0===n?void 0:n.isEmpty}));var n=w&&r.some((function(e){var n;return null===(n=t.data[e])||void 0===n?void 0:n.isConfirmChanged})),a=k&&r.some((function(e){var n;return!(null===(n=t.data[e])||void 0===n?void 0:n.confirm)}));return c.a.createElement(j.a,{placement:"topLeft",title:e},c.a.createElement(g.a,null,c.a.createElement(h.a,null,n&&c.a.createElement(f.a,{size:18,style:{background:"red"}},"C ")),c.a.createElement(h.a,null,a&&c.a.createElement(f.a,{size:18,style:{background:"green"}},"N ")),c.a.createElement(h.a,null,c.a.createElement("span",null,e))))}}],z=function(e,t,n){var r,o,i,c,l;void 0===n&&(n=""),E(Object(a.a)(Object(a.a)({},d),((r={})[e]=Object(a.a)(Object(a.a)({},d[e]),((o={})[t]=Object(a.a)(Object(a.a)({},d[e][t]),{value:n,isEdited:n!==(null===(i=d[e][t])||void 0===i?void 0:i.original),isEmpty:!n.trim(),isConfirmChanged:(null===(c=d[e][t])||void 0===c?void 0:c.confirm)&&n!==(null===(l=d[e][t])||void 0===l?void 0:l.confirm)}),o)),r))),s(t,e,n)};return r.forEach((function(e){T.push({title:function(){var t=I.map((function(t){var n;return null===(n=t.data[e])||void 0===n?void 0:n.value})).filter((function(e){return!e})).length;return c.a.createElement("span",null,e,t>0&&c.a.createElement("i",{style:{color:"red",font:"10px"}}," (",t," empty)"))},dataIndex:e,key:e,width:90/(r.length+1)+"vw",ellipsis:!0,render:function(t,n){var a,r,o,i,l,s,u=null===(a=n.data[e])||void 0===a?void 0:a.value,d=!(u&&u.trim()),f=null===(r=n.data[e])||void 0===r?void 0:r.isConfirmChanged,h=(null===(o=n.data[e])||void 0===o||o.confirm,null===(i=n.data[e])||void 0===i?void 0:i.isEdited);return c.a.createElement(j.a,{placement:"topLeft",title:c.a.createElement("div",null,f&&c.a.createElement("div",{className:"red"},"Last Confirmed: ",null===(l=n.data[e])||void 0===l?void 0:l.confirm),h&&c.a.createElement("div",{className:"greenyellow"},"Original Value: ",null===(s=n.data[e])||void 0===s?void 0:s.original),c.a.createElement("div",null,"Current Value: ",u))},d&&c.a.createElement(v.a.Text,{editable:{onChange:function(t){return z(n.title,e,t)}},className:"ant-table-cell-ellipsis cell-empty"},"None"),!d&&h&&c.a.createElement("div",{className:"ant-table-cell-ellipsis cell-edit"},c.a.createElement(m.a,{danger:!0,type:"primary",shape:"circle",size:"small",className:"close-btn",onClick:function(){z(n.title,e,"")},icon:c.a.createElement(y.a,{className:"clear-icon"})}),u),!d&&!h&&c.a.createElement("div",{className:"ant-table-cell-ellipsis cell-normal"},c.a.createElement(m.a,{danger:!0,type:"primary",className:"close-btn",size:"small",shape:"circle",onClick:function(){z(n.title,e,"")},icon:c.a.createElement(y.a,{className:"clear-icon"})}),u))}})})),c.a.createElement("div",null,c.a.createElement(g.a,{justify:"space-between",gutter:10,align:"middle"},c.a.createElement(h.a,null,c.a.createElement(g.a,{justify:"start",gutter:10,align:"middle"},c.a.createElement(h.a,null,c.a.createElement(v.a.Title,null,"Translation")),c.a.createElement(h.a,null,c.a.createElement(v.a.Text,null,"(",d.length,"'s keys)")))),c.a.createElement(h.a,null,c.a.createElement(g.a,{justify:"center",gutter:10,align:"middle"},c.a.createElement(h.a,null,c.a.createElement(b.a,{checked:O,onChange:function(e){return x(e.target.checked)}},"Empty Filter")),c.a.createElement(h.a,null,c.a.createElement(b.a,{checked:w,onChange:function(e){return J(e.target.checked)}},c.a.createElement(f.a,{size:18,style:{background:"red"}},"C"),"  Confirm change Filter")),c.a.createElement(h.a,null,c.a.createElement(b.a,{checked:k,onChange:function(e){return N(e.target.checked)}},c.a.createElement(f.a,{size:18,style:{background:"green"}},"N"),"  New Key Filter")))),c.a.createElement(h.a,null,c.a.createElement(g.a,{gutter:20,style:{padding:"0 20px"}},c.a.createElement(h.a,null,c.a.createElement(m.a,{disabled:r.length>0,type:"primary",onClick:function(){return o()}},"Import")),c.a.createElement(h.a,null,c.a.createElement(m.a,{disabled:!t,type:"primary",danger:!0,onClick:function(){r.forEach((function(e){return l(e,d)}))}},"Export")),c.a.createElement(h.a,null,c.a.createElement(m.a,{disabled:!t,type:"ghost",onClick:function(){return location.reload()}},"Reset"))))),c.a.createElement(p.a,{size:"small",bordered:!0,pagination:!1,rowKey:function(e){return e.title},columns:T,dataSource:I}),c.a.createElement(C,null))}))),N=Object(l.c)()((function(){return c.a.createElement(o.a,null,c.a.createElement(o.a,null,c.a.createElement(u,null),c.a.createElement(o.a,null,c.a.createElement(o.a.Content,{className:"app-layout"},c.a.createElement(s.e,null,c.a.createElement(s.c,{exact:!0,path:"/",component:k}),c.a.createElement(s.c,{component:d}))))))}));function L(e){return e<10?"0"+e:e}var w={},J=new Date,I=""+J.getFullYear()+L(J.getMonth()+1)+L(J.getDate()),T="--\x3e";function z(e){var t=[];return function n(a,r){if(void 0===r&&(r=""),"object"==typeof e){var o=Object.keys(a);o.length&&o.forEach((function(e){"string"==typeof a[e]?t.push({key:""+r+(r?T:"")+e,value:a[e]}):"object"==typeof a[e]?n(a[e],""+r+(r?T:"")+e):console.error(""+r+(r?T:"")+e+" error")}))}}(e),t}function F(e){var t={};return e.forEach((function(e){var n=e.key.split(T);!function e(t,n,a){if(n.length){var r=n.shift();n.length?(t[r]||(t[r]={}),e(t[r],n,a)):t[r]=a}}(t,n,e.value)})),t}var M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype._translate=function(e,t,n){return void 0===n&&(n=""),new Promise((function(a,r){fetch("https://google-translate1.p.rapidapi.com/language/translate/v2",{method:"POST",headers:{"x-rapidapi-host":"google-translate1.p.rapidapi.com","x-rapidapi-key":"cc992288bbmsh8a52e14579c3b7bp1a03b0jsn7aaf534f3eb4","accept-encoding":"application/gzip","content-type":"application/x-www-form-urlencoded"},body:"source="+n+"&q="+e+"&target="+t}).then((function(e){a(e.json())})).catch((function(e){r(e)}))}))},t.prototype.translate=function(e,t,n){var o,i=this;return void 0===n&&(n=""),Object(a.d)(this,(function(c){switch(c.label){case 0:return[5,Object(a.g)(Object(r.c)((function(){return i._translate(e,t,n)})))];case 1:return o=c.sent(),console.log("translate",o),[2]}}))},t.prototype.exportJSON=function(e,t){var n,r,o,i;return void 0===e&&(e=this.state.columns[0]),void 0===t&&(t=this.state.mergeLanguageList),Object(a.d)(this,(function(a){return this.state.columns.includes(e)?(n=Object.keys(t).map((function(n){var a;return{key:n,value:(null===(a=t[n][e])||void 0===a?void 0:a.value)||""}})),(r=F(n))&&(o="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(r,void 0,4)),(i=document.createElement("a")).href=o,i.download=e+".json",i.click(),i.remove()),[2]):(_.b.error("Export name should import already"),[2])}))},t.prototype.dealWithJSON=function(e,t){var n=this.state,r=n.mergeLanguageList,o=n.columns;r=JSON.parse(JSON.stringify(r));var i=z(e);return i.sort((function(e,t){return e.key>t.key?1:-1})),i.forEach((function(e){var n;r[e.key]?r[e.key][t]={value:e.value,original:e.value,confirm:"",isEdited:!1,isConfirmChanged:!1,isEmpty:!e.value}:r[e.key]=((n={})[t]={value:e.value,original:e.value,confirm:"",isEdited:!1,isConfirmChanged:!1,isEmpty:!e.value},n)})),{mergeLanguageList:Object(a.a)({},r),columns:o.concat([t])}},t.prototype.importJSON=function(e,t){var n,r,o,i,c=this;return Object(a.d)(this,(function(a){return e?(n=this.state,n.mergeLanguageList,r=n.columns,o=t||e.name.replace(".json",""),r.includes(o)?(_.b.error("Don't import json with same name"),[2]):((i=new FileReader).onload=function(e){var t;try{var n=(null===(t=e.target)||void 0===t?void 0:t.result)||"{}",a=JSON.parse(n),r=c.dealWithJSON(a,o),i=r.mergeLanguageList,l=r.columns;c.setState({mergeLanguageList:i,columns:l})}catch(e){console.error(e)}},i.readAsText(e),[2])):[2]}))},t.prototype._importFile=function(e){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(t){switch(t.label){case 0:return[4,fetch(e)];case 1:return[2,t.sent().json()]}}))}))},t.prototype.fetchJSON=function(e){var t=this;return Object(a.d)(this,(function(n){switch(n.label){case 0:return[5,Object(a.g)(Object(r.c)((function(){return t._importFile(e+"?tag="+Math.random())})))];case 1:return[2,n.sent()]}}))},t.prototype.changeModalVisible=function(e){return Object(a.d)(this,(function(t){return this.setState({selectModalVisible:e}),[2]}))},t.prototype.cacheEditData=function(e,t,n){var r,o,i,c,l,s;return Object(a.d)(this,(function(u){r=w[e],o=e+"-"+r,i={};try{i=JSON.parse(localStorage.getItem(o)||"")||{}}catch(e){}return(c=i[I]||{})[t]=n||"",l=Object(a.a)(Object(a.a)({},i),((s={})[I]=c,s)),localStorage.setItem(o,JSON.stringify(l)),[2]}))},t.prototype.onLanguageSelectChange=function(e){var t,n,o,i=this;return Object(a.d)(this,(function(c){switch(c.label){case 0:t=function(t){var o,c,l,s,u;return Object(a.d)(this,(function(d){switch(d.label){case 0:return n.state.columns.includes(e[t])?[2,"continue"]:[5,Object(a.g)(Object(r.c)((function(){return i.fetchJSON(x[e[t]])})))];case 1:return o=d.sent(),c=n.dealWithJSON(o,e[t]),l=c.mergeLanguageList,s=c.columns,w[e[t]]=function(e,t){var n,a,r,o,i,c,l,s;for(void 0===t&&(t=2166136261),n=3&e.length,a=e.length-n,r=t,i=3432918353,c=461845907,s=0;s<a;)l=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24,++s,r=27492+(65535&(o=5*(65535&(r=(r^=l=(65535&(l=(l=(65535&l)*i+(((l>>>16)*i&65535)<<16)&4294967295)<<15|l>>>17))*c+(((l>>>16)*c&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(s+2))<<16;case 2:l^=(255&e.charCodeAt(s+1))<<8;case 1:r^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(s)))*i+(((l>>>16)*i&65535)<<16)&4294967295)<<15|l>>>17))*c+(((l>>>16)*c&65535)<<16)&4294967295}return r^=e.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0}(JSON.stringify(o)),[5,Object(a.g)(Object(r.c)((function(){return i.fetchJSON(S[e[t]])})))];case 2:return u=d.sent(),z(u).forEach((function(n){if(l[n.key]){var a=l[n.key][e[t]];a&&(a.confirm=n.value,a.confirm!==a.original&&(a.isConfirmChanged=!0))}})),n.setState({mergeLanguageList:l,columns:s}),[2]}}))},n=this,o=0,c.label=1;case 1:return o<e.length?[5,t(o)]:[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return console.log(this.state.mergeLanguageList),this.setState({selectModalVisible:!1}),[2]}}))},t}(r.a),D=Object(r.d)(new M("home",{mergeLanguageList:{},columns:[],selectModalVisible:!1})),R=D.getActions(),P=D.attachLifecycle(N)}}]);